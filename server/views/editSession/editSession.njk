{% extends "../partials/layout.njk" %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{%- from "moj/components/alert/macro.njk" import mojAlert -%}
{% from "components/multi-select/macro.njk" import multiSelect %}

{% set pageTitle = applicationName + " - Home" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}
<div class="govuk-width-container">
  <main class="govuk-main-wrapper" id="main-content">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        {{ govukBackLink(backLinkArgs) }}
      </div>

      <div class="govuk-grid-column-two-thirds">
        {% if successMessageArgs !== null %}
          {{ mojAlert(successMessageArgs) }}
        {% endif %}
        <span class="govuk-caption-l">{{text.pageCaption}}</span>
        <h1 class="govuk-heading-l">{{text.pageHeading}}</h1>
      </div>
      <div class="govuk-grid-column-two-thirds">
        {{ govukSummaryList(editSessionSummary) }}
        {% if canBeDeleted %}
          {{ govukButton(deleteButton) }}
        {% endif %}
      </div>

      <div class="govuk-grid-column-two-thirds">
        <h2 class="govuk-heading-m">Attendance and session notes</h2>
      </div>

      <div class="govuk-grid-column-two-thirds">
        <form method="post" novalidate class="add-another-form">
          <input type="hidden" name="_csrf" value="{{csrfToken}}">
          {{ multiSelect(attendanceTableArgs) }}
          {{ govukButton({ text: "Update attendance and notes", preventDoubleClick: true }) }}
        </form>
      </div>
    </div>
  </main>
</div>

{% endblock %}
