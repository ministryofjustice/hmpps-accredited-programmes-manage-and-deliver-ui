{
  "mappings": [
    {
      "request": {
        "urlPattern": "/delius/user/REFER_MONITOR_PP",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "userId": 2500099998,
          "username": "REFER_MONITOR_PP",
          "firstName": "Bernard",
          "surname": "Beaks",
          "email": "bernard.beaks@digital.justice.gov.uk",
          "enabled": true,
          "roles": ["ROLE_PROBATION"],
          "auth_source": "delius"
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/delius/authenticate",
        "method": "POST",
        "bodyPatterns": [
          {
            "equalToJson": "{\"username\":\"REFER_MONITOR_PP\",\"password\":\"R8Mpassword\"}"
          }
        ]
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "urlPattern": "/delius/user?email=.*",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": [
          {
            "userId": 1234567890,
            "username": "deliususer",
            "firstName": "Delius",
            "surname": "User",
            "email": "delius.user@example.com",
            "enabled": true,
            "roles": []
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/delius/health.*",
        "method": "GET"
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/personal-details"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "crn": "X718255",
          "name": {
            "forename": "David",
            "surname": "Clarke"
          },
          "dateOfBirth": "1981-04-15",
          "age": 48,
          "sex": {
            "code": "M",
            "description": "Male"
          },
          "probationPractitioner": {
            "name": {
              "forename": "John",
              "middleNames": "Alex",
              "surname": "Dobbs"
            },
            "code": "PRAC01",
            "email": "prob.officer@example.com"
          },
          "probationDeliveryUnit": {
            "code": "LON",
            "description": "London"
          }
        }
      }
    },
    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/user/.*/access"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{\"access\": [{{#each (jsonPath request.body '$[*]') as |crn|}}{{#unless @first}},{{/unless}}{\"crn\": \"{{crn}}\", \"userExcluded\": false, \"userRestricted\": false}{{/each}}]}",
        "transformers": ["response-template"]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/sentence/.*/offences"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "mainOffence": {
            "date": "2021-05-01",
            "mainCategoryCode": "056",
            "mainCategoryDescription": "Arson",
            "subCategoryCode": "00",
            "subCategoryDescription": "Arson"
          },
          "additionalOffences": [
            {
              "date": "2021-07-01",
              "mainCategoryCode": "012",
              "mainCategoryDescription": "Abandoning children under two years",
              "subCategoryCode": "00",
              "subCategoryDescription": "Abandoning children under two years - contrary to section 27 of the Offences against the person Act 1861"
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/sentence/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "ORA Community Order (6 Months)",
          "startDate": "2024-09-24",
          "expectedEndDate": "2025-03-23",
          "custodial": false,
          "licenceConditions": [],
          "requirements": [
            {
              "code": "RARREQ",
              "description": "Rehabilitation Activity Requirement (RAR)"
            },
            {
              "code": "724",
              "description": "Building Skills for Recovery (BSR)"
            },
            {
              "code": "CSPE06",
              "description": "Curfew"
            }
          ],
          "postSentenceSupervisionRequirements": []
        },
        "transformers": ["response-template"]
      }
    },

    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/X718250/sentence/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "Adult Custody < 12m (11 Months)",
          "startDate": "2025-06-19",
          "expectedEndDate": "2026-05-18",
          "custodial": true,
          "releaseType": "Adult Licence",
          "licenceConditions": [
            {
              "code": "LC77",
              "description": "Building Better Relationships (BBR)"
            }
          ],
          "requirements": [],
          "postSentenceSupervisionRequirements": [
            {
              "code": "TMP13",
              "description": "Women"
            }
          ]
        },
        "transformers": ["response-template"]
      }
    }
  ]
}

//{...
//  "request": {
//    "method": "POST",
//    "urlPattern":"/template.*",
//    "queryParameters" : {
//      "param1" : {
//        "matches" : "(\\btest1\\b|\\btest2\\b|\\test3\\b)"
//      }
//    }
//  },...
