{
  "mappings": [
    {
      "request": {
        "urlPattern": "/delius/user/REFER_MONITOR_PP",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "userId": 2500099998,
          "username": "REFER_MONITOR_PP",
          "firstName": "Bernard",
          "surname": "Beaks",
          "email": "bernard.beaks@digital.justice.gov.uk",
          "enabled": true,
          "roles": ["ROLE_PROBATION"],
          "auth_source": "delius"
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/delius/authenticate",
        "method": "POST",
        "bodyPatterns": [
          {
            "equalToJson": "{\"username\":\"REFER_MONITOR_PP\",\"password\":\"R8Mpassword\"}"
          }
        ]
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "urlPattern": "/delius/user?email=.*",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": [
          {
            "userId": 1234567890,
            "username": "deliususer",
            "firstName": "Delius",
            "surname": "User",
            "email": "delius.user@example.com",
            "enabled": true,
            "roles": []
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/delius/health.*",
        "method": "GET"
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/personal-details"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "transformers": ["response-template"],
        "jsonBody": {
          "crn": "X718255",
          "name": {
            "forename": "{{pickRandom 'David' 'John' 'Michael' 'James' 'Robert' 'Sarah' 'Emma' 'Lisa' 'Jennifer' 'Maria'}}",
            "surname": "{{pickRandom 'Clarke' 'Smith' 'Johnson' 'Williams' 'Brown' 'Jones' 'Garcia' 'Miller' 'Davis' 'Wilson'}}"
          },
          "dateOfBirth": "1981-04-15",
          "age": "48 years 3 months",
          "sex": {
            "code": "M",
            "description": "Male"
          },
          "probationPractitioner": {
            "name": {
              "forename": "John",
              "middleNames": "Alex",
              "surname": "Dobbs"
            },
            "code": "PRAC01",
            "email": "prob.officer@example.com"
          },
          "probationDeliveryUnit": {
            "code": "LON",
            "description": "London"
          },
          "team": {
            "code": "N52UAT",
            "description": "N52 Team"
          },
          "region": {
            "code": "N52",
            "description": "West Midlands Region"
          }
        }
      }
    },
    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/user/.*/access"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{\"access\": [{{#each (jsonPath request.body '$[*]') as |crn|}}{{#unless @first}},{{/unless}}{\"crn\": \"{{crn}}\", \"userExcluded\": false, \"userRestricted\": false}{{/each}}]}",
        "transformers": ["response-template"]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/sentence/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "ORA Community Order (6 Months)",
          "startDate": "2024-09-24",
          "expectedEndDate": "2025-03-23",
          "custodial": false,
          "licenceConditions": [],
          "requirements": [
            {
              "code": "RARREQ",
              "description": "Rehabilitation Activity Requirement (RAR)"
            },
            {
              "code": "724",
              "description": "Building Skills for Recovery (BSR)"
            },
            {
              "code": "CSPE06",
              "description": "Curfew"
            }
          ],
          "postSentenceSupervisionRequirements": []
        },
        "transformers": ["response-template"]
      }
    },

    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/X718250/sentence/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "Adult Custody < 12m (11 Months)",
          "startDate": "2025-06-19",
          "expectedEndDate": "2026-05-18",
          "custodial": true,
          "releaseType": "Adult Licence",
          "licenceConditions": [
            {
              "code": "LC77",
              "description": "Building Better Relationships (BBR)"
            }
          ],
          "requirements": [],
          "postSentenceSupervisionRequirements": [
            {
              "code": "TMP13",
              "description": "Women"
            }
          ]
        },
        "transformers": ["response-template"]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/sentence/.*/offences"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "mainOffence": {
            "date": "2021-05-01",
            "mainCategoryCode": "056",
            "mainCategoryDescription": "Arson",
            "subCategoryCode": "00",
            "subCategoryDescription": "Arson"
          },
          "additionalOffences": [
            {
              "date": "2021-07-01",
              "mainCategoryCode": "012",
              "mainCategoryDescription": "Abandoning children under two years",
              "subCategoryCode": "00",
              "subCategoryDescription": "Abandoning children under two years - contrary to section 27 of the Offences against the person Act 1861"
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/[^/]+/requirement/[^/]+$"
      },
      "priority": 1,
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "manager": {
            "staff": {
              "code": "STAFF001",
              "name": {
                "forename": "Wiremocked-Sarah",
                "surname": "Johnson"
              }
            },
            "team": {
              "code": "TEAM001",
              "description": "(Wiremocked) Community Offender Management Team"
            },
            "probationDeliveryUnit": {
              "code": "PDU001",
              "description": "(Wiremocked) London PDU"
            },
            "officeLocations": [
              {
                "code": "OFF001",
                "description": "(Wiremocked) Waterloo Office"
              },
              {
                "code": "OFF002",
                "description": "(Wiremocked) Victoria Office"
              }
            ]
          },
          "probationDeliveryUnits": [
            {
              "code": "PDU001",
              "description": "(Wiremocked) Non-Primary London North PDU",
              "officeLocations": [
                {
                  "code": "LOC001",
                  "description": "(Wiremocked) Camden Office"
                },
                {
                  "code": "LOC002",
                  "description": "(Wiremocked) Islington Office"
                }
              ]
            },
            {
              "code": "PDU002",
              "description": "(Wiremocked) London South PDU",
              "officeLocations": [
                {
                  "code": "LOC003",
                  "description": "(Wiremocked) Southwark Office"
                },
                {
                  "code": "LOC004",
                  "description": "(Wiremocked) Office 1"
                },
                {
                  "code": "LOC005",
                  "description": "(Wiremocked) Office 2"
                }
              ]
            },
            {
              "code": "PDU003",
              "description": "(Wiremocked) Manchester PDU",
              "officeLocations": [
                {
                  "code": "LOC006",
                  "description": "(Wiremocked) North Office"
                },
                {
                  "code": "LOC007",
                  "description": "(Wiremocked) South Office"
                },
                {
                  "code": "LOC008",
                  "description": "(Wiremocked)  East Office"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/[^/]+/licence-conditions/[^/]+$"
      },
      "priority": 1,
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "manager": {
            "staff": {
              "name": {
                "forename": "Wiremock Sam",
                "surname": "Surname"
              },
              "code": "N03UATU"
            },
            "team": {
              "code": "N03UAT",
              "description": "Unallocated Team(N03)"
            },
            "probationDeliveryUnit": {
              "code": "N03UAT",
              "description": "Unallocated Level 2(N03)"
            },
            "officeLocations": [
              {
                "code": "N03ANPS",
                "description": "All Location"
              }
            ]
          },
          "probationDeliveryUnits": [
            {
              "code": "PDU003",
              "description": "(Wiremocked) Manchester Central PDU",
              "officeLocations": [
                {
                  "code": "LOC004",
                  "description": "(Wiremocked) City Centre Office"
                },
                {
                  "code": "LOC005",
                  "description": "(Wiremocked) Old Trafford Office"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/registrations"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "registrations": [
            {
              "type": {
                "code": "RVHR",
                "description": "Very High RoSH"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "RCHD",
                "description": "Risk to Children"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2025-11-22"
            },
            {
              "type": {
                "code": "REG15",
                "description": "Risk to Known Adult"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "REG16",
                "description": "Risk to Prisoner"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "REG17",
                "description": "Risk to Public"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "AV2S",
                "description": "Risk to Staff"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/user/.*/teams"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "teams": [
            {
              "code": "TEAM01",
              "description": "Wiremocked Team",
              "pdu": {
                "code": "PDU01",
                "description": "Wiremocked PDU"
              },
              "region": {
                "code": "wiremocked_region_code",
                "description": "Wiremocked Region Name"
              }
            }
          ]
        }
      }
    },
    {
      "request": {
        "urlPattern": "/regions/pdu/.*/office-locations",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "code": "N50ALL",
          "description": "All Greater Manchester",
          "officeLocations": [
            {
              "code": "N50CR01",
              "description": "Stockport: Stockport Probation Office"
            },
            {
              "code": "N50CR02",
              "description": "Tameside: Ashton Probation Office"
            },
            {
              "code": "N50CR03",
              "description": "Stockport: Cirtek House"
            },
            {
              "code": "N50TP01",
              "description": "Treatment Provider Location"
            },
            {
              "code": "N50ANPS",
              "description": "All PS Location"
            },
            {
              "code": "N50NXHO",
              "description": "Nexus House"
            },
            {
              "code": "N50HDOF",
              "description": "Head Office"
            },
            {
              "code": "N501CCO",
              "description": "Oldham Interventions Office"
            },
            {
              "code": "N50PPDP",
              "description": "Probation Programmes Development Unit"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/regions/pdu/N50MANC/office-locations",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "code": "N50ALL",
          "description": "Cleveland",
          "officeLocations": [
            {
              "code": "N50SALO",
              "description": "Middlesbrough (Borough Rd)"
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/regions/.*/members",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "code": "N50",
          "description": "Greater Manchester",
          "pdus": [
            {
              "code": "N50MANC",
              "description": "Cleveland",
              "team": [
                {
                  "code": "N50NMI",
                  "description": "North Manchester IOM",
                  "members": [
                    {
                      "code": "N02P054",
                      "name": {
                        "forename": "R&MP",
                        "surname": "Practitioner"
                      }
                    }
                  ]
                },
                {
                  "code": "N50MOS",
                  "description": "Moss Side NPS OMU 1",
                  "members": [
                    {
                      "code": "N50B016",
                      "name": {
                        "forename": "ApprovedPremises",
                        "surname": "NccManagerAssessor2"
                      }
                    }
                  ]
                },
                {
                  "code": "N50CAC",
                  "description": "GM Manchester N1",
                  "members": [
                    {
                      "code": "N07B656",
                      "name": {
                        "forename": "Archibald",
                        "surname": "Queeny"
                      }
                    }
                  ]
                }
              ]
            },

            {
              "code": "N50ALL",
              "description": "All Greater Manchester",
              "team": [
                {
                  "code": "N50UTS",
                  "description": "Tiering Service",
                  "members": [
                    {
                      "code": "N50UTSO",
                      "name": {
                        "forename": "Tiering",
                        "surname": "Service"
                      }
                    }
                  ]
                },
                {
                  "code": "N50ZAR",
                  "description": "ZZ_Awaiting Reassignment",
                  "members": [
                    {
                      "code": "N50ZARU",
                      "name": {
                        "forename": "Unallocated",
                        "surname": "Staff"
                      }
                    }
                  ]
                },

                {
                  "code": "N50PDP",
                  "description": "Insight - PD Project",
                  "members": [
                    {
                      "code": "N50A015",
                      "name": {
                        "forename": "TestStaffNine",
                        "surname": "ForScript"
                      }
                    }
                  ]
                },
                {
                  "code": "N50RMS",
                  "description": "Insight IIRMS",
                  "members": [
                    {
                      "code": "N50A012",
                      "name": {
                        "forename": "TestStaffSix",
                        "surname": "ForScript"
                      }
                    }
                  ]
                },
                {
                  "code": "N50PT3",
                  "description": "PTA Team",
                  "members": [
                    {
                      "code": "N50A009",
                      "name": {
                        "forename": "TestStaffThree",
                        "surname": "ForScript"
                      }
                    }
                  ]
                },

                {
                  "code": "N50IAV",
                  "description": "Inactive Team(N50)",
                  "members": [
                    {
                      "code": "N50IAVU",
                      "name": {
                        "forename": "Inactive",
                        "surname": "Inactive"
                      }
                    }
                  ]
                },
                {
                  "code": "N50AAT",
                  "description": "Automated Allocation Team",
                  "members": [
                    {
                      "code": "N50AATH",
                      "name": {
                        "forename": "Calculation",
                        "surname": "Handover"
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/appointments",
        "method": "POST"
      },
      "response": {
        "status": 201
      }
    }
  ]
}
