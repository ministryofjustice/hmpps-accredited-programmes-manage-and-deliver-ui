{
  "mappings": [
    {
      "request": {
        "urlPattern": "/delius/user/REFER_MONITOR_PP",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "userId": 2500099998,
          "username": "REFER_MONITOR_PP",
          "firstName": "Bernard",
          "surname": "Beaks",
          "email": "bernard.beaks@digital.justice.gov.uk",
          "enabled": true,
          "roles": ["ROLE_PROBATION"],
          "auth_source": "delius"
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/delius/authenticate",
        "method": "POST",
        "bodyPatterns": [
          {
            "equalToJson": "{\"username\":\"REFER_MONITOR_PP\",\"password\":\"R8Mpassword\"}"
          }
        ]
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "urlPattern": "/delius/user?email=.*",
        "method": "GET"
      },
      "response": {
        "status": 200,
        "jsonBody": [
          {
            "userId": 1234567890,
            "username": "deliususer",
            "firstName": "Delius",
            "surname": "User",
            "email": "delius.user@example.com",
            "enabled": true,
            "roles": []
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "urlPattern": "/delius/health.*",
        "method": "GET"
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/personal-details"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "crn": "X718255",
          "name": {
            "forename": "David",
            "surname": "Clarke"
          },
          "dateOfBirth": "1981-04-15",
          "age": "48 years 3 months",
          "sex": {
            "code": "M",
            "description": "Male"
          },
          "probationPractitioner": {
            "name": {
              "forename": "John",
              "middleNames": "Alex",
              "surname": "Dobbs"
            },
            "code": "PRAC01",
            "email": "prob.officer@example.com"
          },
          "probationDeliveryUnit": {
            "code": "LON",
            "description": "London"
          }
        }
      }
    },
    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/user/.*/access"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{\"access\": [{{#each (jsonPath request.body '$[*]') as |crn|}}{{#unless @first}},{{/unless}}{\"crn\": \"{{crn}}\", \"userExcluded\": false, \"userRestricted\": false}{{/each}}]}",
        "transformers": ["response-template"]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/sentence/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "ORA Community Order (6 Months)",
          "startDate": "2024-09-24",
          "expectedEndDate": "2025-03-23",
          "custodial": false,
          "licenceConditions": [],
          "requirements": [
            {
              "code": "RARREQ",
              "description": "Rehabilitation Activity Requirement (RAR)"
            },
            {
              "code": "724",
              "description": "Building Skills for Recovery (BSR)"
            },
            {
              "code": "CSPE06",
              "description": "Curfew"
            }
          ],
          "postSentenceSupervisionRequirements": []
        },
        "transformers": ["response-template"]
      }
    },

    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/X718250/sentence/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "Adult Custody < 12m (11 Months)",
          "startDate": "2025-06-19",
          "expectedEndDate": "2026-05-18",
          "custodial": true,
          "releaseType": "Adult Licence",
          "licenceConditions": [
            {
              "code": "LC77",
              "description": "Building Better Relationships (BBR)"
            }
          ],
          "requirements": [],
          "postSentenceSupervisionRequirements": [
            {
              "code": "TMP13",
              "description": "Women"
            }
          ]
        },
        "transformers": ["response-template"]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/sentence/.*/offences"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "mainOffence": {
            "date": "2021-05-01",
            "mainCategoryCode": "056",
            "mainCategoryDescription": "Arson",
            "subCategoryCode": "00",
            "subCategoryDescription": "Arson"
          },
          "additionalOffences": [
            {
              "date": "2021-07-01",
              "mainCategoryCode": "012",
              "mainCategoryDescription": "Abandoning children under two years",
              "subCategoryCode": "00",
              "subCategoryDescription": "Abandoning children under two years - contrary to section 27 of the Offences against the person Act 1861"
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/[^/]+/requirement/[^/]+$"
      },
      "priority": 1,
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "manager": {
            "staff": {
              "code": "STAFF001",
              "name": {
                "forename": "Wiremocked-Sarah",
                "surname": "Johnson"
              }
            },
            "team": {
              "code": "TEAM001",
              "description": "(Wiremocked) Community Offender Management Team"
            },
            "probationDeliveryUnit": {
              "code": "PDU001",
              "description": "(Wiremocked) London PDU"
            },
            "officeLocations": [
              {
                "code": "OFF001",
                "description": "(Wiremocked) Waterloo Office"
              },
              {
                "code": "OFF002",
                "description": "(Wiremocked) Victoria Office"
              }
            ]
          },
          "probationDeliveryUnits": [
            {
              "code": "PDU001",
              "description": "(Wiremocked) Non-Primary London North PDU",
              "officeLocations": [
                {
                  "code": "LOC001",
                  "description": "(Wiremocked) Camden Office"
                },
                {
                  "code": "LOC002",
                  "description": "(Wiremocked) Islington Office"
                }
              ]
            },
            {
              "code": "PDU002",
              "description": "(Wiremocked) London South PDU",
              "officeLocations": [
                {
                  "code": "LOC003",
                  "description": "(Wiremocked) Southwark Office"
                },
                {
                  "code": "LOC004",
                  "description": "(Wiremocked) Office 1"
                },
                {
                  "code": "LOC005",
                  "description": "(Wiremocked) Office 2"
                }
              ]
            },
            {
              "code": "PDU003",
              "description": "(Wiremocked) Manchester PDU",
              "officeLocations": [
                {
                  "code": "LOC006",
                  "description": "(Wiremocked) North Office"
                },
                {
                  "code": "LOC007",
                  "description": "(Wiremocked) South Office"
                },
                {
                  "code": "LOC008",
                  "description": "(Wiremocked)  East Office"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/[^/]+/licence-conditions/[^/]+$"
      },
      "priority": 1,
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "manager": {
            "staff": {
              "name": {
                "forename": "Wiremock Sam",
                "surname": "Surname"
              },
              "code": "N03UATU"
            },
            "team": {
              "code": "N03UAT",
              "description": "Unallocated Team(N03)"
            },
            "probationDeliveryUnit": {
              "code": "N03UAT",
              "description": "Unallocated Level 2(N03)"
            },
            "officeLocations": [
              {
                "code": "N03ANPS",
                "description": "All Location"
              }
            ]
          },
          "probationDeliveryUnits": [
            {
              "code": "PDU003",
              "description": "(Wiremocked) Manchester Central PDU",
              "officeLocations": [
                {
                  "code": "LOC004",
                  "description": "(Wiremocked) City Centre Office"
                },
                {
                  "code": "LOC005",
                  "description": "(Wiremocked) Old Trafford Office"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/registrations"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "registrations": [
            {
              "type": {
                "code": "RVHR",
                "description": "Very High RoSH"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "RCHD",
                "description": "Risk to Children"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2025-11-22"
            },
            {
              "type": {
                "code": "REG15",
                "description": "Risk to Known Adult"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "REG16",
                "description": "Risk to Prisoner"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "REG17",
                "description": "Risk to Public"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            },
            {
              "type": {
                "code": "AV2S",
                "description": "Risk to Staff"
              },
              "date": "2025-08-22",
              "nextReviewDate": "2026-02-22"
            }
          ]
        }
      }
    }
  ]
}
